import{c as Y,r as n,j as e,b as Z}from"./app-D9VRIkeW.js";import{c as h,B as P}from"./button-CEil9SyP.js";import{L as N,I}from"./label-CLzS-Qwo.js";import{C as F}from"./card-VJI4IhOW.js";import{I as M,S as ee}from"./separator-DQyANi-u.js";import{t as te,A as se}from"./AuthenticatedLayout-YMI5X6zW.js";import{L as ae}from"./lock-D80FeknO.js";import{C as ne}from"./chevron-down-DIy7m1ZU.js";/* empty css            */import"./index-D7CwUK-e.js";import"./index-BPx5MBbd.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],re=h("eye-off",oe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ie=h("eye",le);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],de=h("phone",ce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],he=h("shield",me);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ue=h("triangle-alert",xe);function R(i){const d={hotel_name:"Hotel Name",hotel_tagline:"Tagline",hotel_logo_url:"Logo",hotel_phone:"Phone",hotel_email:"Email",hotel_address:"Address",hotel_hours:"Hours",support_whatsapp_number:"Support Contact",support_instagram_url:"Instagram",support_facebook_url:"Facebook",n8n_secret_token:"n8n Secret Token",gemini_api_key:"Gemini API Key"};return d[i]?d[i]:i.replace(/_/g," ").replace(/\b\w/g,x=>x.toUpperCase())}function pe(){const{props:i}=Y(),d=i.settings||{},x=n.useRef(!1),[E,O]=n.useState([]),[B,D]=n.useState([]),[T,U]=n.useState([]),[m,v]=n.useState({}),[g,G]=n.useState({}),[u,V]=n.useState(null),[p,y]=n.useState(""),[w,$]=n.useState(""),[_,k]=n.useState({}),[f,z]=n.useState(!1),b=n.useRef(null);n.useEffect(()=>{if(x.current)return;x.current=!0;const s=Object.entries(d).map(([r,l])=>({key:r,value:l?.value??"",group:l?.group??"other",type:l?.type??"string",description:l?.description??R(r)})),t=[],o=[],a=[],c={},C={};s.forEach(r=>{const{key:l,value:Q,group:A,type:X}=r;["hotel_name","hotel_tagline","hotel_logo_url"].includes(l)?t.push(r):["hotel_phone","hotel_email","hotel_address","hotel_hours","support_whatsapp_number","support_instagram_url","support_facebook_url"].includes(l)?o.push(r):["n8n_secret_token","gemini_api_key"].includes(l)?a.push({...r,type:"secret"}):(A==="advanced"||A==="automation")&&a.push(r),c[l]=Q??"",X==="secret"&&(C[l]=!1)});const L=s.find(r=>r.key==="hotel_logo_url")?.value||"";O(t),D(o),U(a),v(c),G(c),y(L),$(L),k(C)},[d]);const H=n.useMemo(()=>{const s=Object.keys(g);for(const t of s)if(m[t]!==g[t])return!0;return!!(u||p!==w)},[m,g,u,p,w]);function S(s){const{name:t,value:o}=s.target;v(a=>({...a,[t]:o}))}function J(){b.current&&b.current.click()}function K(s){const t=s.target.files?.[0];if(t){V(t);const o=URL.createObjectURL(t);y(o)}}function W(s){k(t=>({...t,[s]:!t[s]}))}function q(s){s.preventDefault();const t=new FormData;Object.entries(m).forEach(([o,a])=>{t.append(o,a??"")}),u&&t.append("hotel_logo_file",u),Z.post(route("settings.update"),t,{forceFormData:!0})}function j(s){const{key:t,type:o,description:a}=s,c=R(t);return t==="hotel_logo_url"?e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(N,{className:"text-sm font-medium text-slate-700",children:c}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[e.jsx("div",{className:"shrink-0 w-28 h-28 rounded-xl border-2 border-dashed border-slate-300 bg-slate-50 flex items-center justify-center overflow-hidden",children:p?e.jsx("img",{src:p,alt:"Current Logo",className:"object-contain max-h-full max-w-full"}):e.jsx("span",{className:"text-[11px] text-slate-400",children:"No Logo"})}),e.jsxs("div",{className:"flex-1 text-sm text-slate-600",children:[e.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:K,className:"hidden"}),e.jsxs(P,{type:"button",variant:"outline",onClick:J,className:"flex items-center gap-2 h-10 rounded-lg border-slate-300 text-slate-700 hover:bg-slate-50 text-sm font-medium px-3",children:[e.jsx(M,{className:"h-4 w-4 text-slate-600"}),e.jsx("span",{children:"Change Logo"})]}),e.jsx("p",{className:"text-[11px] text-slate-500 mt-2 leading-relaxed",children:"PNG/JPG/WebP/SVG Â· Max 2MB. Logo lama akan diganti otomatis."})]})]}),a&&e.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed mt-2",children:a})]}):o==="secret"?e.jsxs("div",{className:"space-y-2",children:[e.jsxs(N,{htmlFor:t,className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[e.jsx("span",{children:c}),e.jsx("span",{className:"text-[10px] bg-red-100 text-red-600 px-2 py-[2px] rounded-full font-medium",children:"Sensitive"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{id:t,name:t,value:m[t]||"",onChange:S,type:_[t]?"text":"password",className:"text-sm h-10 pr-10 rounded-lg border-slate-200 focus:border-red-500 focus:ring-red-500/20"}),e.jsx("button",{type:"button",onClick:()=>W(t),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-400 hover:text-slate-600",children:_[t]?e.jsx(re,{className:"h-4 w-4"}):e.jsx(ie,{className:"h-4 w-4"})})]}),a&&e.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed",children:a})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:t,className:"text-sm font-medium text-slate-700",children:c}),e.jsx(I,{id:t,name:t,value:m[t]||"",onChange:S,className:"text-sm h-10 rounded-lg border-slate-200 focus:border-blue-500 focus:ring-blue-500/20"}),a&&e.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed",children:a})]})}return e.jsxs("div",{className:"mx-auto w-full py-2 px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Settings"}),e.jsx("p",{className:"text-base text-slate-500 mt-2",children:"Update branding, contact info, and advanced credentials."})]}),e.jsxs("form",{onSubmit:q,className:"space-y-8",children:[e.jsxs(F,{className:"border border-slate-200 shadow-md p-6 rounded-2xl bg-white overflow-hidden",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center mr-3",children:e.jsx(M,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Branding"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Logo dan identitas hotel."})]})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:E.map(s=>e.jsx("div",{className:s.key==="hotel_logo_url"?"md:col-span-2":"",children:j(s)},s.key))})]}),e.jsxs(F,{className:"border border-slate-200 shadow-md p-6 rounded-2xl bg-white overflow-hidden",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center mr-3",children:e.jsx(de,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Contact & Info"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Informasi publik yang tampil di footer, invoice, dan halaman bantuan."})]})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:B.map(s=>e.jsx("div",{children:j(s)},s.key))})]}),e.jsxs("div",{className:"border-2 border-red-200 rounded-2xl overflow-hidden bg-gradient-to-br from-red-50 to-orange-50 shadow-lg",children:[e.jsxs("button",{type:"button",onClick:()=>z(!f),className:"w-full px-6 py-5 flex items-center justify-between text-left bg-gradient-to-r from-red-600 to-orange-600 text-white hover:from-red-700 hover:to-orange-700 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-white/20 p-2 rounded-lg mr-3",children:e.jsx(ue,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:["Advanced Settings",e.jsx(ae,{className:"h-4 w-4"})]}),e.jsx("p",{className:"text-sm opacity-90 mt-1",children:"API keys & automation tokens (Admin only)"})]})]}),e.jsx("div",{className:"bg-white/20 p-1 rounded-lg",children:f?e.jsx(te,{className:"h-5 w-5"}):e.jsx(ne,{className:"h-5 w-5"})})]}),f&&e.jsxs("div",{className:"p-6 bg-white",children:[e.jsx("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-2 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-amber-800",children:"Security Warning"}),e.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Perubahan di bagian ini bisa mempengaruhi bot, automasi pesan, dan AI analytics. Jangan share token ini ke orang lain."})]})]})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:T.map(s=>e.jsx("div",{children:j(s)},s.key))})]})]}),e.jsx(ee,{className:"my-8"}),H&&e.jsx("div",{className:"flex justify-end",children:e.jsx(P,{type:"submit",className:"bg-slate-900 text-white hover:bg-black h-11 px-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Save Settings"})})]})]})}pe.layout=i=>e.jsx(se,{children:i});export{pe as default};
