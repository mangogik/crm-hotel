import{R as v,r as q,c as ge,j as r,b as be}from"./app-DJl2ydn2.js";import{C as z,a as K,b as H,d as X,e as je,c as J}from"./card-q4U6RwoP.js";import{c as de,f as he,B as ne}from"./button-BcKuhJzw.js";import{B as Ae}from"./badge-M-ee0RcM.js";import{b as Ne,c as we,T as Q,d as T,e as Pe,a as L}from"./table-C82BmRIm.js";import{A as ke}from"./AuthenticatedLayout-C8pa3ZP2.js";import{D as Oe}from"./dollar-sign-BIrAnHgN.js";import{C as De}from"./circle-check-DAwidF0M.js";import{U as _e}from"./users-CTsmEXrr.js";import{a as B,L as V,m as Y,i as I,b as Z,A as Ce,c as M,d as ie,e as Ee,h as se,j as Se,k as Le,u as Re,l as ee,G as Te,n as oe,o as le,D as Be,g as Me,X as me,Y as pe,f as Ie,R as Fe,C as $e,T as We}from"./generateCategoricalChart-DESd6myV.js";import{T as ze}from"./trending-up-qIV5nTXR.js";import{T as Ve}from"./trending-down-yqR8X8cI.js";/* empty css            */import"./index-DjLYN8p0.js";import"./index-CNtyiCxP.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],Ke=de("bed-double",Ge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xe=de("download",He);var Ye=["layout","type","stroke","connectNulls","isRange","ref"],qe=["key"],fe;function F(e){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},F(e)}function xe(e,a){if(e==null)return{};var n=Ue(e,a),t,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],!(a.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function Ue(e,a){if(e==null)return{};var n={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(a.indexOf(t)>=0)continue;n[t]=e[t]}return n}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},R.apply(this,arguments)}function ce(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,t)}return n}function C(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?ce(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Je(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function ue(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,ye(t.key),t)}}function Qe(e,a,n){return a&&ue(e.prototype,a),n&&ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ze(e,a,n){return a=U(a),et(e,ve()?Reflect.construct(a,n||[],U(e).constructor):a.apply(e,n))}function et(e,a){if(a&&(F(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tt(e)}function tt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ve=function(){return!!e})()}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U(e)}function at(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&te(e,a)}function te(e,a){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},te(e,a)}function O(e,a,n){return a=ye(a),a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function ye(e){var a=rt(e,"string");return F(a)=="symbol"?a:a+""}function rt(e,a){if(F(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var t=n.call(e,a);if(F(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E=(function(e){function a(){var n;Je(this,a);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return n=Ze(this,a,[].concat(i)),O(n,"state",{isAnimationFinished:!0}),O(n,"id",Re("recharts-area-")),O(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ee(l)&&l()}),O(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ee(l)&&l()}),n}return at(a,e),Qe(a,[{key:"renderDots",value:function(t,i,o){var l=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(l&&!c)return null;var u=this.props,h=u.dot,m=u.points,d=u.dataKey,f=B(this.props,!1),b=B(h,!0),w=m.map(function(g,P){var j=C(C(C({key:"dot-".concat(P),r:3},f),b),{},{index:P,cx:g.x,cy:g.y,dataKey:d,value:g.value,payload:g.payload,points:m});return a.renderDotItem(h,j)}),N={clipPath:t?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return v.createElement(V,R({className:"recharts-area-dots"},N),w)}},{key:"renderHorizontalRect",value:function(t){var i=this.props,o=i.baseLine,l=i.points,c=i.strokeWidth,u=l[0].x,h=l[l.length-1].x,m=t*Math.abs(u-h),d=Y(l.map(function(f){return f.y||0}));return I(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Y(o.map(function(f){return f.y||0})),d)),I(d)?v.createElement("rect",{x:u<h?u:u-m,y:0,width:m,height:Math.floor(d+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(t){var i=this.props,o=i.baseLine,l=i.points,c=i.strokeWidth,u=l[0].y,h=l[l.length-1].y,m=t*Math.abs(u-h),d=Y(l.map(function(f){return f.x||0}));return I(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Y(o.map(function(f){return f.x||0})),d)),I(d)?v.createElement("rect",{x:0,y:u<h?u:u-m,width:d+(c?parseInt("".concat(c),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(t){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(t):this.renderHorizontalRect(t)}},{key:"renderAreaStatically",value:function(t,i,o,l){var c=this.props,u=c.layout,h=c.type,m=c.stroke,d=c.connectNulls,f=c.isRange;c.ref;var b=xe(c,Ye);return v.createElement(V,{clipPath:o?"url(#clipPath-".concat(l,")"):null},v.createElement(Z,R({},B(b,!0),{points:t,connectNulls:d,type:h,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),m!=="none"&&v.createElement(Z,R({},B(this.props,!1),{className:"recharts-area-curve",layout:u,type:h,connectNulls:d,fill:"none",points:t})),m!=="none"&&f&&v.createElement(Z,R({},B(this.props,!1),{className:"recharts-area-curve",layout:u,type:h,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(t,i){var o=this,l=this.props,c=l.points,u=l.baseLine,h=l.isAnimationActive,m=l.animationBegin,d=l.animationDuration,f=l.animationEasing,b=l.animationId,w=this.state,N=w.prevPoints,g=w.prevBaseLine;return v.createElement(Ce,{begin:m,duration:d,isActive:h,easing:f,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var j=P.t;if(N){var k=N.length/c.length,x=c.map(function(y,D){var S=Math.floor(D*k);if(N[S]){var _=N[S],$=M(_.x,y.x),W=M(_.y,y.y);return C(C({},y),{},{x:$(j),y:W(j)})}return y}),p;if(I(u)&&typeof u=="number"){var A=M(g,u);p=A(j)}else if(ie(u)||Ee(u)){var s=M(g,0);p=s(j)}else p=u.map(function(y,D){var S=Math.floor(D*k);if(g[S]){var _=g[S],$=M(_.x,y.x),W=M(_.y,y.y);return C(C({},y),{},{x:$(j),y:W(j)})}return y});return o.renderAreaStatically(x,p,t,i)}return v.createElement(V,null,v.createElement("defs",null,v.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(j))),v.createElement(V,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(c,u,t,i)))})}},{key:"renderArea",value:function(t,i){var o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,h=this.state,m=h.prevPoints,d=h.prevBaseLine,f=h.totalLength;return u&&l&&l.length&&(!m&&f>0||!se(m,l)||!se(d,c))?this.renderAreaWithAnimation(t,i):this.renderAreaStatically(l,c,t,i)}},{key:"render",value:function(){var t,i=this.props,o=i.hide,l=i.dot,c=i.points,u=i.className,h=i.top,m=i.left,d=i.xAxis,f=i.yAxis,b=i.width,w=i.height,N=i.isAnimationActive,g=i.id;if(o||!c||!c.length)return null;var P=this.state.isAnimationFinished,j=c.length===1,k=he("recharts-area",u),x=d&&d.allowDataOverflow,p=f&&f.allowDataOverflow,A=x||p,s=ie(g)?this.id:g,y=(t=B(l,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},D=y.r,S=D===void 0?3:D,_=y.strokeWidth,$=_===void 0?2:_,W=Se(l)?l:{},ae=W.clipDot,re=ae===void 0?!0:ae,G=S*2+$;return v.createElement(V,{className:k},x||p?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(s)},v.createElement("rect",{x:x?m:m-b/2,y:p?h:h-w/2,width:x?b:b*2,height:p?w:w*2})),!re&&v.createElement("clipPath",{id:"clipPath-dots-".concat(s)},v.createElement("rect",{x:m-G/2,y:h-G/2,width:b+G,height:w+G}))):null,j?null:this.renderArea(A,s),(l||j)&&this.renderDots(A,re,s),(!N||P)&&Le.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(t,i){return t.animationId!==i.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,curBaseLine:t.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:t.points!==i.curPoints||t.baseLine!==i.curBaseLine?{curPoints:t.points,curBaseLine:t.baseLine}:null}}])})(q.PureComponent);fe=E;O(E,"displayName","Area");O(E,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Te.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});O(E,"getBaseValue",function(e,a,n,t){var i=e.layout,o=e.baseValue,l=a.props.baseValue,c=l??o;if(I(c)&&typeof c=="number")return c;var u=i==="horizontal"?t:n,h=u.scale.domain();if(u.type==="number"){var m=Math.max(h[0],h[1]),d=Math.min(h[0],h[1]);return c==="dataMin"?d:c==="dataMax"||m<0?m:Math.max(Math.min(h[0],h[1]),0)}return c==="dataMin"?h[0]:c==="dataMax"?h[1]:h[0]});O(E,"getComposedData",function(e){var a=e.props,n=e.item,t=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.bandSize,u=e.dataKey,h=e.stackedData,m=e.dataStartIndex,d=e.displayedData,f=e.offset,b=a.layout,w=h&&h.length,N=fe.getBaseValue(a,n,t,i),g=b==="horizontal",P=!1,j=d.map(function(x,p){var A;w?A=h[m+p]:(A=oe(x,u),Array.isArray(A)?P=!0:A=[N,A]);var s=A[1]==null||w&&oe(x,u)==null;return g?{x:le({axis:t,ticks:o,bandSize:c,entry:x,index:p}),y:s?null:i.scale(A[1]),value:A,payload:x}:{x:s?null:t.scale(A[1]),y:le({axis:i,ticks:l,bandSize:c,entry:x,index:p}),value:A,payload:x}}),k;return w||P?k=j.map(function(x){var p=Array.isArray(x.value)?x.value[0]:null;return g?{x:x.x,y:p!=null&&x.y!=null?i.scale(p):null}:{x:p!=null?t.scale(p):null,y:x.y}}):k=g?i.scale(N):t.scale(N),C({points:j,baseLine:k,layout:b,isRange:P},f)});O(E,"renderDotItem",function(e,a){var n;if(v.isValidElement(e))n=v.cloneElement(e,a);else if(ee(e))n=e(a);else{var t=he("recharts-area-dot",typeof e!="boolean"?e.className:""),i=a.key,o=xe(a,qe);n=v.createElement(Be,R({},o,{key:i,className:t}))}return n});var nt=Me({chartName:"AreaChart",GraphicalChild:E,axisComponents:[{axisType:"xAxis",AxisComp:me},{axisType:"yAxis",AxisComp:pe}],formatAxisMap:Ie});function it(){const{props:e}=ge(),{filters:a,period:n,stats:t,revenueChartData:i=[],revenueBySource:o=[],servicePerformance:l=[],guestDemographics:c=[],bookingDetails:u=[],recentActivity:h=[],topGuests:m=[]}=e,[d,f]=q.useState(a?.range||"this_month"),[b,w]=q.useState(a?.start_date||""),[N,g]=q.useState(a?.end_date||""),P=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s||0),j=s=>{const y=s>=0,D=y?ze:Ve;return r.jsxs("span",{className:`inline-flex items-center gap-1 text-xs font-medium rounded-full px-2 py-1 ${y?"text-green-700 bg-green-100":"text-red-700 bg-red-100"}`,children:[r.jsx(D,{className:"h-3 w-3"}),y?`+${s}%`:`${s}%`]})},k=()=>{const s={range:d};d==="custom"&&(s.start_date=b,s.end_date=N),be.get(route("reports.index"),s,{preserveState:!0,replace:!0})},x=()=>{const s=route("reports.export",{range:d,start:d==="custom"?b:n.start,end:d==="custom"?N:n.end});window.location.href=s},p=s=>new Date(s).toLocaleDateString(),A=[{title:"Total Revenue",value:P(t?.revenue?.current||0),icon:Oe,change:t?.revenue?.change,description:"From Last Week"},{title:"Orders Completed",value:t?.ordersCompleted?.current||0,icon:De,change:t?.ordersCompleted?.change,description:"From Last Week"},{title:"Occupancy Rate",value:`${t?.occupancy?.current||0}%`,icon:Ke,change:t?.occupancy?.change,description:"From Last Week"},{title:"Active Guests",value:t?.activeGuests||0,icon:_e,description:"Currently staying"}];return r.jsxs("div",{className:"flex flex-col space-y-6 p-4 md:p-6 bg-gray-50 min-h-screen",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Reports"}),r.jsx("p",{className:"text-muted-foreground",children:"Track your project and goal with full AI Assistants."})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-white p-1 rounded-lg shadow-sm border",children:[r.jsxs("select",{className:"h-9 rounded-md border-0 bg-transparent px-3 text-sm focus:ring-0",value:d,onChange:s=>f(s.target.value),children:[r.jsx("option",{value:"this_week",children:"This Week"}),r.jsx("option",{value:"this_month",children:"This Month"}),r.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),r.jsx("option",{value:"custom",children:"Custom"})]}),d==="custom"&&r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"date",className:"h-9 rounded-md border-0 bg-transparent px-3 text-sm focus:ring-0",value:b,onChange:s=>w(s.target.value)}),r.jsx("span",{className:"text-muted-foreground",children:"to"}),r.jsx("input",{type:"date",className:"h-9 rounded-md border-0 bg-transparent px-3 text-sm focus:ring-0",value:N,onChange:s=>g(s.target.value)})]}),r.jsx(ne,{size:"sm",onClick:k,children:"Apply"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(ne,{size:"sm",onClick:x,children:[r.jsx(Xe,{className:"h-4 w-4 mr-1"})," Export"]})})]})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:A.map((s,y)=>r.jsxs(z,{className:"pt-0 px-0 gap-2 pb-2 bg-slate-50",children:[r.jsxs(z,{className:"p-2 gap-1 border-t-0 border-x-0",children:[r.jsxs(K,{className:"flex flex-row items-center justify-between p-2",children:[r.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:s.title}),r.jsx("div",{className:"rounded-full p-1 border-2",children:r.jsx(s.icon,{className:"h-4 w-4 text-foreground"})})]}),r.jsx(X,{className:"px-2",children:r.jsx("div",{className:"text-2xl font-bold",children:s.value})})]}),r.jsx(je,{className:"flex flex-1 px-4 justify-between text-xs text-muted-foreground",children:s.change!==void 0&&r.jsxs("div",{className:"flex flex-1 justify-between items-center",children:[s.description," ",j(s.change)]})})]},y))}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(z,{children:[r.jsxs(K,{children:[r.jsx(H,{children:"Revenue Timeline"}),r.jsxs(J,{children:[p(n?.start)," â€”"," ",p(n?.end)]})]}),r.jsx(X,{children:r.jsx(Fe,{width:"100%",height:300,children:r.jsxs(nt,{data:i,children:[r.jsx($e,{strokeDasharray:"3 3"}),r.jsx(me,{dataKey:"date"}),r.jsx(pe,{tickFormatter:s=>`${Math.round(s/1e6)}M`}),r.jsx(We,{formatter:s=>P(s)}),r.jsx(E,{type:"monotone",dataKey:"revenue",stroke:"#7C4DFF",fill:"#7C4DFF",fillOpacity:.2})]})})})]}),r.jsxs(z,{children:[r.jsxs(K,{children:[r.jsx(H,{children:"Booking Performance"}),r.jsx(J,{children:"Latest bookings with estimated totals"})]}),r.jsx(X,{children:r.jsxs(Ne,{children:[r.jsx(we,{children:r.jsxs(Q,{children:[r.jsx(T,{children:"Guest"}),r.jsx(T,{children:"Room"}),r.jsx(T,{children:"Check-in"}),r.jsx(T,{children:"Check-out"}),r.jsx(T,{children:"Status"}),r.jsx(T,{className:"text-right",children:"Est. Total"})]})}),r.jsx(Pe,{children:u?.length?u.map(s=>r.jsxs(Q,{children:[r.jsx(L,{className:"font-medium",children:s.guest}),r.jsx(L,{children:s.room}),r.jsx(L,{children:p(s.checkin)}),r.jsx(L,{children:p(s.checkout)}),r.jsx(L,{children:r.jsx(Ae,{variant:s.status==="checked_in"?"outline":s.status==="checked_out"?"default":"secondary",className:"capitalize",children:String(s.status||"").replaceAll("_"," ")})}),r.jsx(L,{className:"text-right font-medium",children:P(s.total)})]},s.id)):r.jsx(Q,{children:r.jsx(L,{colSpan:6,className:"text-center text-muted-foreground",children:"No bookings in this period."})})})]})})]})]}),r.jsx("div",{className:"space-y-6",children:r.jsxs(z,{children:[r.jsxs(K,{children:[r.jsx(H,{children:"Top Guests"}),r.jsx(J,{children:"By total spend"})]}),r.jsx(X,{className:"space-y-3",children:m?.length?m.map((s,y)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-200 text-xs font-medium",children:y+1}),r.jsx("span",{className:"text-sm font-medium",children:s.name})]}),r.jsx("div",{className:"text-sm font-bold",children:P(s.total)})]},s.id)):r.jsx("div",{className:"text-sm text-muted-foreground",children:"No guest spend in this period."})})]})})]})]})}it.layout=e=>r.jsx(ke,{children:e});export{it as default};
