import{r as p,j as e,b as R,c as Be,u as Le}from"./app-Tk84mJb6.js";import{a as $e,B as N}from"./button-lRfnXEjG.js";import{a as U,b as B,c as L,C as E,d as M}from"./card-DQl6oOWn.js";import{S as He,a as D,b as A,c as I,d as z,e as u,C as Ve,A as Je,D as G,g as K,h as Q,i as W,j as Y,k as Z}from"./select-Bvp8vyyY.js";import{P as Xe,T as qe,t as ce}from"./index-6VAec2dS.js";import{X as me,d as Ge,A as Ke}from"./AuthenticatedLayout-Baf1-1b3.js";import{B as X}from"./badge-mqPbzYBV.js";import{P as xe}from"./plus-B6nnbVOS.js";import{I as k,L as S}from"./index-DnRgCO0U.js";import{F as q}from"./funnel-8TLH7857.js";import{T as F,a as g,b as he,c as pe,d as P,e as ue}from"./table-BMVx_hAn.js";import{I as Qe}from"./info-B6xcbLU3.js";import{a as We}from"./index-1wYEGG4f.js";import{S as Ye}from"./star-CNX2nmiu.js";import{T as Ze}from"./trending-up-CXo_pAIm.js";/* empty css            */import"./index-Dh5pOQR_.js";var es="Separator",oe="horizontal",ss=["horizontal","vertical"],je=p.forwardRef((s,i)=>{const{decorative:n,orientation:c=oe,...f}=s,o=ts(c)?c:oe,d=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(We.div,{"data-orientation":o,...d,...f,ref:i})});je.displayName=es;function ts(s){return ss.includes(s)}var ns=je;function is({className:s,orientation:i="horizontal",decorative:n=!0,...c}){return e.jsx(ns,{"data-slot":"separator",decorative:n,orientation:i,className:$e("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...c})}const rs=({onAddService:s})=>e.jsx(U,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(B,{className:"text-2xl font-bold",children:"Services"}),e.jsx(L,{children:"Manage your service offerings"})]}),e.jsxs(N,{onClick:s,className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4"})," Add Service"]})]})}),as=({searchTerm:s,setSearchTerm:i,selectedType:n,setSelectedType:c,selectedFulfillment:f,setSelectedFulfillment:o,selectedOfferingSession:r,setSelectedOfferingSession:d,clearFilters:h,filterOptions:j})=>{const C=j?.types??["fixed","per_unit","selectable","free"],v=j?.fulfillment_types??["direct","staff_assisted"],b=j?.offering_sessions??["pre_checkin","post_checkin","pre_checkout"],y=a=>a==="per_unit"?"Per Unit":a==="selectable"?"Selectable":a==="free"?"Free":"Fixed Price",_=a=>a==="staff_assisted"?"Staff Assisted":"Direct",x=a=>a==="pre_checkin"?"Pre Check-in":a==="post_checkin"?"Post Check-in":"Pre Checkout";return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(He,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(k,{placeholder:"Search services...",value:s,onChange:a=>i(a.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(D,{value:n,onValueChange:c,children:[e.jsxs(A,{className:"w-[180px]",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),e.jsx(I,{placeholder:"Type"})]}),e.jsxs(z,{children:[e.jsx(u,{value:"all",children:"All Types"}),C.map(a=>e.jsx(u,{value:a,children:y(a)},a))]})]}),e.jsxs(D,{value:f,onValueChange:o,children:[e.jsxs(A,{className:"w-[180px]",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),e.jsx(I,{placeholder:"Fulfillment"})]}),e.jsxs(z,{children:[e.jsx(u,{value:"all",children:"All Fulfillments"}),v.map(a=>e.jsx(u,{value:a,children:_(a)},a))]})]}),e.jsxs(D,{value:r,onValueChange:d,children:[e.jsxs(A,{className:"w-[180px]",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),e.jsx(I,{placeholder:"Session"})]}),e.jsxs(z,{children:[e.jsx(u,{value:"all",children:"All Sessions"}),b.map(a=>e.jsx(u,{value:a,children:x(a)},a))]})]}),e.jsxs(N,{variant:"outline",onClick:h,className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"})," Clear Sort & Filters"]})]})]})},ls=({service:s,isExpanded:i,onToggle:n,onEdit:c,onDelete:f,formatPrice:o,formatType:r,formatFulfillment:d,getTypeBadge:h,getFulfillmentBadge:j,getOfferingSessionBadge:C})=>{const v=()=>s.type==="selectable"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-sm",children:"Multiple options"}),e.jsx(Qe,{className:"h-3 w-3 text-muted-foreground"})]}):!s.price||Number(s.price)===0?e.jsx("span",{children:"Free"}):o(s.price);return e.jsxs(e.Fragment,{children:[e.jsxs(F,{className:"cursor-pointer hover:bg-muted/50",onClick:n,children:[e.jsx(g,{children:e.jsx(N,{variant:"ghost",size:"sm",children:i?e.jsx(Ve,{className:"h-4 w-4"}):e.jsx(Ge,{className:"h-4 w-4"})})}),e.jsx(g,{className:"font-medium",children:s.name}),e.jsx(g,{children:h(s.type,s.unit_name)}),e.jsx(g,{children:j(s.fulfillment_type)}),e.jsx(g,{children:C(s.offering_session)}),e.jsx(g,{children:v()}),e.jsx(g,{onClick:b=>b.stopPropagation(),children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(N,{variant:"ghost",size:"sm",onClick:c,className:"bg-secondary text-secondary-foreground",children:e.jsx(Xe,{className:"h-4 w-4"})}),e.jsx(N,{variant:"ghost",size:"sm",onClick:f,className:"bg-destructive text-destructive-foreground",children:e.jsx(qe,{className:"h-4 w-4"})})]})})]}),i&&e.jsx(F,{children:e.jsx(g,{colSpan:7,className:"p-4 bg-muted/20",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-1",children:"Description"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description||"No description provided."})]}),s.type==="selectable"&&s.options?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Available Options:"}),e.jsx("div",{className:"space-y-2",children:s.options.map((b,y)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-background border rounded",children:[e.jsx("span",{children:b.name}),e.jsx("span",{className:"font-medium",children:o(b.price)})]},y))})]})]})})},`${s.id}-details`)]})},cs=({services:s,expandedRows:i,toggleRow:n,openEditModal:c,openDeleteModal:f,formatPrice:o,formatType:r,formatFulfillment:d,sortBy:h,sortDirection:j,handleSort:C,getTypeBadge:v,getFulfillmentBadge:b,getOfferingSessionBadge:y})=>{const _=({field:x,children:a})=>e.jsx(P,{className:"cursor-pointer",onClick:()=>C(x),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:a}),h===x&&e.jsx(Je,{className:`h-3 w-3 ${j==="asc"?"rotate-180":""}`})]})});return e.jsx("div",{className:"rounded-md border",children:e.jsxs(he,{children:[e.jsx(pe,{children:e.jsxs(F,{children:[e.jsx(P,{className:"w-8"}),e.jsx(_,{field:"name",children:"Name"}),e.jsx(_,{field:"type",children:"Type"}),e.jsx(_,{field:"fulfillment_type",children:"Fulfillment"}),e.jsx(_,{field:"offering_session",children:"Session"}),e.jsx(_,{field:"price",children:"Price"}),e.jsx(P,{children:"Actions"})]})}),e.jsx(ue,{children:s.length>0?s.map(x=>e.jsx(ls,{service:x,isExpanded:i.includes(x.id),onToggle:()=>n(x.id),onEdit:()=>c(x),onDelete:()=>f(x),formatPrice:o,formatType:r,formatFulfillment:d,getTypeBadge:v,getFulfillmentBadge:b,getOfferingSessionBadge:y},x.id)):e.jsx(F,{children:e.jsx(g,{colSpan:7,className:"text-center py-8",children:"No services found"})})})]})})},de=({data:s,setData:i,errors:n,addOption:c,removeOption:f,updateOption:o})=>(p.useEffect(()=>{s.type==="free"?(s.price!==0&&i("price",0),s.unit_name&&i("unit_name",""),s.options?.length&&i("options",[{name:"",price:""}])):s.type==="fixed"?((s.price===""||s.price===0)&&i("price",""),i("unit_name","")):s.type==="per_unit"?(s.unit_name||i("unit_name",""),(s.price===""||s.price===0)&&i("price","")):s.type==="selectable"&&(s.options?.length||i("options",[{name:"",price:""}]),s.price!==0&&i("price",0),i("unit_name",""))},[s.type]),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"name",className:"text-right",children:"Name *"}),e.jsx(k,{id:"name",value:s.name,onChange:r=>i("name",r.target.value),className:"col-span-3"}),n.name&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:n.name})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"description",className:"text-right",children:"Description"}),e.jsx(k,{id:"description",value:s.description,onChange:r=>i("description",r.target.value),className:"col-span-3"}),n.description&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:n.description})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"type",className:"text-right",children:"Type *"}),e.jsxs(D,{value:s.type,onValueChange:r=>i("type",r),children:[e.jsx(A,{className:"col-span-3",children:e.jsx(I,{placeholder:"Select type"})}),e.jsxs(z,{children:[e.jsx(u,{value:"fixed",children:"Fixed Price"}),e.jsx(u,{value:"per_unit",children:"Per Unit"}),e.jsx(u,{value:"selectable",children:"Selectable Options"}),e.jsx(u,{value:"free",children:"Free (Complimentary)"})]})]}),n.type&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:n.type})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"fulfillment_type",className:"text-right",children:"Fulfillment *"}),e.jsxs(D,{value:s.fulfillment_type,onValueChange:r=>i("fulfillment_type",r),children:[e.jsx(A,{className:"col-span-3",children:e.jsx(I,{placeholder:"Select fulfillment"})}),e.jsxs(z,{children:[e.jsx(u,{value:"direct",children:"Direct"}),e.jsx(u,{value:"staff_assisted",children:"Staff Assisted"})]})]}),n.fulfillment_type&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:n.fulfillment_type})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"offering_session",className:"text-right",children:"Session *"}),e.jsxs(D,{value:s.offering_session,onValueChange:r=>i("offering_session",r),children:[e.jsx(A,{className:"col-span-3",children:e.jsx(I,{placeholder:"Select offering session"})}),e.jsxs(z,{children:[e.jsx(u,{value:"pre_checkin",children:"Pre Check-in"}),e.jsx(u,{value:"post_checkin",children:"Post Check-in"}),e.jsx(u,{value:"pre_checkout",children:"Pre Checkout"})]})]}),n.offering_session&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:n.offering_session})]}),s.type==="fixed"&&e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"price",className:"text-right",children:"Price *"}),e.jsx(k,{id:"price",type:"number",min:"0",step:"0.01",value:s.price,onChange:r=>i("price",r.target.value),className:"col-span-3"}),n.price&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:n.price})]}),s.type==="per_unit"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"unit_name",className:"text-right",children:"Unit Name *"}),e.jsx(k,{id:"unit_name",value:s.unit_name,onChange:r=>i("unit_name",r.target.value),className:"col-span-3"}),n.unit_name&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:n.unit_name})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{htmlFor:"price",className:"text-right",children:"Price per Unit *"}),e.jsx(k,{id:"price",type:"number",min:"0",step:"0.01",value:s.price,onChange:r=>i("price",r.target.value),className:"col-span-3"}),n.price&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:n.price})]})]}),s.type==="selectable"&&e.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[e.jsx(S,{className:"text-right pt-2",children:"Options *"}),e.jsxs("div",{className:"col-span-3 space-y-2",children:[s.options.map((r,d)=>e.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[e.jsx(k,{placeholder:"Option name",value:r.name,onChange:h=>o(d,"name",h.target.value),className:"col-span-5"}),e.jsx(k,{type:"number",placeholder:"Price",min:"0",step:"0.01",value:r.price,onChange:h=>o(d,"price",h.target.value),className:"col-span-5"}),e.jsx(N,{type:"button",variant:"outline",size:"sm",onClick:()=>f(d),disabled:s.options.length<=1,className:"col-span-2",children:e.jsx(me,{className:"h-4 w-4"})})]},d)),e.jsxs(N,{type:"button",variant:"outline",size:"sm",onClick:c,className:"mt-2",children:[e.jsx(xe,{className:"h-4 w-4 mr-1"})," Add Option"]}),n.options&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.options})]})]}),s.type==="free"&&e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(S,{className:"text-right",children:"Price"}),e.jsxs("div",{className:"col-span-3 text-sm text-muted-foreground",children:["This is a complimentary service. Price is fixed to ",e.jsx("strong",{children:"0"}),"."]})]})]})),os=({isOpen:s,onOpenChange:i,onConfirm:n,service:c})=>c?e.jsx(G,{open:s,onOpenChange:i,children:e.jsxs(K,{children:[e.jsxs(Q,{children:[e.jsx(W,{children:"Confirm Deletion"}),e.jsxs(Y,{children:["Are you sure you want to delete the service"," ",e.jsx("strong",{children:c.name}),"? This action cannot be undone."]})]}),e.jsxs(Z,{children:[e.jsx(N,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(N,{variant:"destructive",onClick:n,children:"Delete"})]})]})}):null,ds=({paginationData:s,buildPaginationUrl:i})=>{const{from:n,to:c,total:f,prev_page_url:o,next_page_url:r}=s,d=h=>{h&&R.get(i(h),{},{preserveState:!0,replace:!0})};return e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",n," to ",c," of ",f," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(N,{variant:"outline",size:"sm",onClick:()=>d(o),disabled:!o,children:"Previous"}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>d(r),disabled:!r,children:"Next"})]})]})},ms=({popularService:s,profitableService:i,formatPrice:n})=>e.jsxs(E,{children:[e.jsxs(U,{children:[e.jsx(B,{children:"Highlight Layanan"}),e.jsx(L,{children:"Layanan paling populer dan paling menguntungkan."})]}),e.jsxs(M,{className:"space-y-4",children:[s?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-yellow-500"}),e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Paling Populer"})]}),e.jsx("p",{className:"text-lg font-semibold",children:s.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.orders_count," pesanan"]})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Data populer tidak tersedia."}),e.jsx(is,{}),i?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4 text-emerald-500"}),e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Paling Menguntungkan"})]}),e.jsx("p",{className:"text-lg font-semibold",children:i.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n(i.revenue)," pendapatan"]})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Data keuntungan tidak tersedia."})]})]});function xs({data:s}){const i=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(n);return e.jsxs(E,{className:"md:col-span-2",children:[e.jsxs(U,{children:[e.jsx(B,{children:"Layanan Terlaris"}),e.jsx(L,{children:"Peringkat berdasarkan pendapatan selama 7 hari terakhir"})]}),e.jsx(M,{children:e.jsxs(he,{children:[e.jsx(pe,{children:e.jsxs(F,{children:[e.jsx(P,{className:"w-[80px]",children:"Peringkat"}),e.jsx(P,{children:"Nama Layanan"}),e.jsx(P,{className:"text-right",children:"Jumlah Pesanan"}),e.jsx(P,{className:"text-right",children:"Total Pendapatan"})]})}),e.jsx(ue,{children:s&&s.length>0?s.map(n=>e.jsxs(F,{children:[e.jsx(g,{className:"font-medium text-center",children:n.rank}),e.jsx(g,{className:"font-medium",children:n.serviceName}),e.jsx(g,{className:"text-right",children:n.orderCount}),e.jsx(g,{className:"text-right",children:i(n.totalRevenue)})]},n.rank)):e.jsx(F,{children:e.jsx(g,{colSpan:4,className:"h-24 text-center",children:"Belum ada data pendapatan layanan dalam 7 hari terakhir."})})})]})})]})}function hs(){const{services:s,filters:i,flash:n,insights:c,filterOptions:f}=Be().props,[o,r]=p.useState(i.search||""),[d,h]=p.useState(i.type||"all"),[j,C]=p.useState(i.fulfillment_type||"all"),[v,b]=p.useState(i.offering_session||"all"),[y,_]=p.useState(i.sort_by||"created_at"),[x,a]=p.useState(i.sort_direction||"desc"),[ge,$]=p.useState(!1),[fe,H]=p.useState(!1),[Ne,V]=p.useState(!1),[J,ee]=p.useState(null),[ve,be]=p.useState([]),{data:T,setData:O,post:ye,put:_e,processing:se,errors:te,reset:Se,clearErrors:ne}=Le({name:"",description:"",type:"fixed",fulfillment_type:"direct",offering_session:"post_checkin",price:"",unit_name:"",options:[{name:"",price:""}]});p.useEffect(()=>{n?.success&&ce.success(n.success),n?.error&&ce.error(n.error)},[n]),p.useEffect(()=>{const t=setTimeout(()=>Ce(),500);return()=>clearTimeout(t)},[o,d,j,v,y,x]);const Ce=(t=1)=>{R.get(route("services.index"),{search:o,type:d==="all"?"":d,fulfillment_type:j==="all"?"":j,offering_session:v==="all"?"":v,sort_by:y,sort_direction:x,page:t},{preserveState:!0,replace:!0})},ke=t=>{_(t),a(x==="asc"?"desc":"asc")},we=()=>{Se(),ne(),$(!0)},Pe=t=>{O({name:t.name,description:t.description||"",type:t.type,fulfillment_type:t.fulfillment_type,offering_session:t.offering_session||"post_checkin",price:t.price||"",unit_name:t.unit_name||"",options:t.options&&t.options.length>0?t.options:[{name:"",price:""}]}),ne(),ee(t),H(!0)},Fe=t=>{ee(t),V(!0)},Te=t=>{t.preventDefault(),ye(route("services.store"),{onSuccess:()=>$(!1)})},Oe=t=>{t.preventDefault(),_e(route("services.update",J.id),{onSuccess:()=>H(!1)})},De=()=>{R.delete(route("services.destroy",J.id),{onSuccess:()=>V(!1)})},Ae=()=>{r(""),h("all"),C("all"),b("all"),_("created_at"),a("desc")},ie=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t||0),Ie=t=>be(l=>l.includes(t)?l.filter(m=>m!==t):[...l,t]),ze=(t,l)=>{let m=t;switch(t){case"fixed":m="Fixed";break;case"per_unit":m=`Per Unit ${l?`(${l})`:""}`;break;case"selectable":m="Select";break;default:m=t}const Ue={fixed:"bg-blue-100 text-blue-800 border-blue-200",per_unit:"bg-emerald-100 text-emerald-800 border-emerald-200",selectable:"bg-violet-100 text-violet-800 border-violet-200"}[t]||"bg-gray-100 text-gray-800 border-gray-200";return e.jsx(X,{className:`capitalize text-xs font-medium w-28 justify-center ${Ue}`,variant:"outline",children:m})},Re=t=>{let l=t;switch(t){case"direct":l="Direct";break;case"staff_assisted":l="Staff Assisted";break;default:l=t}const w={direct:"bg-slate-100 text-slate-800 border-slate-200",staff_assisted:"bg-amber-100 text-amber-800 border-amber-200"}[t]||"bg-gray-100 text-gray-800 border-gray-200";return e.jsx(X,{className:`capitalize text-xs font-medium w-32 justify-center ${w}`,variant:"outline",children:l})},Ee=t=>{let l=t?t.replace("_"," "):"N/A";switch(t){case"pre_checkin":l="Pre Check-in";break;case"post_checkin":l="Post Check-in";break;case"pre_checkout":l="Pre Checkout";break;case"free":l="Free";break;default:l=t}const w={pre_checkin:"bg-indigo-100 text-indigo-800 border-indigo-200",post_checkin:"bg-green-100 text-green-800 border-green-200",pre_checkout:"bg-orange-100 text-orange-800 border-orange-200",free:"bg-rose-100 text-rose-800 border-rose-200"}[t]||"bg-gray-100 text-gray-800 border-gray-200";return e.jsx(X,{className:`capitalize text-xs font-medium w-32 justify-center ${w}`,variant:"outline",children:l})},re=()=>O("options",[...T.options,{name:"",price:""}]),ae=t=>{T.options.length>1&&O("options",T.options.filter((l,m)=>m!==t))},le=(t,l,m)=>{const w=[...T.options];w[t][l]=m,O("options",w)},Me=t=>{if(!t)return null;const l=new URL(t),m=new URLSearchParams(l.search);return m.set("search",o),m.set("type",d==="all"?"":d),m.set("fulfillment_type",j==="all"?"":j),m.set("offering_session",v==="all"?"":v),m.set("sort_by",y),m.set("sort_direction",x),`${l.pathname}?${m.toString()}`};return e.jsxs("div",{className:"container mx-auto py-2 px-4",children:[e.jsxs(E,{className:"mb-8",children:[e.jsx(rs,{onAddService:we}),e.jsxs(M,{children:[e.jsx(as,{searchTerm:o,setSearchTerm:r,selectedType:d,setSelectedType:h,selectedFulfillment:j,setSelectedFulfillment:C,selectedOfferingSession:v,setSelectedOfferingSession:b,clearFilters:Ae,filterOptions:f}),e.jsx(cs,{services:s.data,expandedRows:ve,toggleRow:Ie,openEditModal:Pe,openDeleteModal:Fe,getTypeBadge:ze,getFulfillmentBadge:Re,getOfferingSessionBadge:Ee,formatPrice:ie,sortBy:y,sortDirection:x,handleSort:ke}),e.jsx(ds,{paginationData:s,buildPaginationUrl:Me,router:R})]})]}),e.jsxs(E,{children:[e.jsxs(U,{children:[e.jsx(B,{className:"text-2xl font-bold",children:"Services Insights"}),e.jsx(L,{children:"Insights from your services data"})]}),e.jsxs(M,{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(ms,{popularService:c.mostPopular,profitableService:c.highestRevenue,formatPrice:ie}),e.jsx(xs,{data:c.topServices})]})]}),e.jsx(G,{open:ge,onOpenChange:$,children:e.jsxs(K,{className:"sm:max-w-[600px]",children:[e.jsxs(Q,{children:[e.jsx(W,{children:"Create New Service"}),e.jsx(Y,{children:"Add a new service to your offerings"})]}),e.jsxs("form",{onSubmit:Te,children:[e.jsx(de,{data:T,setData:O,errors:te,addOption:re,removeOption:ae,updateOption:le}),e.jsx(Z,{className:"mt-4",children:e.jsx(N,{type:"submit",disabled:se,children:"Create Service"})})]})]})}),e.jsx(G,{open:fe,onOpenChange:H,children:e.jsxs(K,{className:"sm:max-w-[600px]",children:[e.jsxs(Q,{children:[e.jsx(W,{children:"Edit Service"}),e.jsx(Y,{children:"Update service information"})]}),e.jsxs("form",{onSubmit:Oe,children:[e.jsx(de,{data:T,setData:O,errors:te,addOption:re,removeOption:ae,updateOption:le}),e.jsx(Z,{className:"mt-4",children:e.jsx(N,{type:"submit",disabled:se,children:"Update Service"})})]})]})}),e.jsx(os,{isOpen:Ne,onOpenChange:V,onConfirm:De,service:J})]})}hs.layout=s=>e.jsx(Ke,{children:s});export{hs as default};
