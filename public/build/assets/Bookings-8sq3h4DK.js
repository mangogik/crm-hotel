import{j as e,r as c,b as xe,a as wt,c as Ct,u as Nt}from"./app-EWpIB3HM.js";import{B as v,u as re,a as Ee}from"./button-H6AwmmAM.js";import{a as pe,b as fe,c as Le,C as oe,d as ne}from"./card-RKJWBewB.js";import{P as yt,D as ae,a as Ye,b as le,c as ce,d as ie,C as kt,e as Rt,T as Pt,f as De,g as Te,t as V}from"./index-CkhVk1HJ.js";import{X as Dt,u as Tt,a as q,A as At}from"./AuthenticatedLayout-DQWAbSsw.js";import{I as A}from"./index-BIX3n7Yj.js";import{L as w}from"./label-CzG679bL.js";import{S as Et,a as G,b as J,F as qe,c as K,d as Q,e as D,f as Lt,C as Ft,A as Bt}from"./select-DuMT9J0t.js";import{C as je}from"./calendar-nZAC3HMz.js";import{T as X,a as _,B as Ae,b as Fe,c as Be,d as T,e as Oe}from"./badge-CSf3a6Wm.js";import{c as Ot,a as de,P as be,b as Z,e as It}from"./index-CaT8ubQ7.js";import{U as zt}from"./users-C3bobYdG.js";import{D as Ht}from"./dollar-sign-Wiu9lbkK.js";/* empty css            */import"./index-6H-wcPrJ.js";const Mt=({onAddBooking:t})=>e.jsx(pe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(fe,{className:"text-2xl font-bold",children:"Bookings"}),e.jsx(Le,{children:"Manage your hotel bookings"})]}),e.jsxs(v,{onClick:t,className:"flex items-center gap-2",children:[e.jsx(yt,{className:"h-4 w-4"})," Add Booking"]})]})}),Wt=({searchTerm:t,setSearchTerm:r,selectedCustomer:s,setSelectedCustomer:l,selectedRoom:a,setSelectedRoom:n,selectedStatus:o,setSelectedStatus:d,checkinDateFrom:i,setCheckinDateFrom:u,checkinDateTo:h,setCheckinDateTo:m,checkoutDateFrom:x,setCheckoutDateFrom:p,checkoutDateTo:j,setCheckoutDateTo:b,clearFilters:B,customers:k,rooms:W})=>{const O=[{value:"all",label:"All Statuses"},{value:"reserved",label:"Reserved"},{value:"checked_in",label:"Checked In"},{value:"checked_out",label:"Checked Out"},{value:"cancelled",label:"Cancelled"}],[M,R]=c.useState(!1),[I,P]=c.useState(!1),[z,g]=c.useState(i),[S,L]=c.useState(h),[Y,he]=c.useState(x),[ee,te]=c.useState(j),ue=()=>{u(z),m(S),R(!1)},we=()=>{p(Y),b(ee),P(!1)},Ce=()=>{g(""),L(""),u(""),m(""),R(!1)},C=()=>{he(""),te(""),p(""),b(""),P(!1)},$=()=>!i&&!h?"Check-in Date":i&&!h?i:i&&h?`${i} - ${h}`:"Check-in Date",U=()=>!x&&!j?"Check-out Date":x&&!j?x:x&&j?`${x} - ${j}`:"Check-out Date";return e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative md:w-1/3",children:[" ",e.jsx(Et,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(A,{placeholder:"Search by customer or room...",value:t,onChange:N=>r(N.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 md:w-2/3",children:[" ",e.jsxs(G,{value:o,onValueChange:d,children:[e.jsxs(J,{className:"w-full sm:w-auto flex-grow",children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),e.jsx(K,{placeholder:"Status"})]}),e.jsx(Q,{children:O.map(N=>e.jsx(D,{value:N.value,children:N.label},N.value))})]}),e.jsxs(ae,{open:M,onOpenChange:R,children:[e.jsx(Ye,{asChild:!0,children:e.jsxs(v,{variant:"outline",className:"w-full sm:w-auto flex-grow justify-center text-left font-normal",children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),$()]})}),e.jsxs(le,{className:"sm:max-w-96",children:[e.jsx(ce,{children:e.jsx(ie,{children:"Select Check-in Date Range"})}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"from-date",children:"From"}),e.jsx(A,{id:"from-date",type:"date",value:z,onChange:N=>g(N.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"to-date",children:"To"}),e.jsx(A,{id:"to-date",type:"date",value:S,onChange:N=>L(N.target.value)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(v,{variant:"outline",onClick:Ce,children:"Clear"}),e.jsx(v,{onClick:ue,children:"Apply"})]})]})]})]}),e.jsxs(ae,{open:I,onOpenChange:P,children:[e.jsx(Ye,{asChild:!0,children:e.jsxs(v,{variant:"outline",className:"w-full sm:w-auto flex-grow justify-center text-left font-normal",children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),U()]})}),e.jsxs(le,{className:"sm:max-w-96",children:[e.jsx(ce,{children:e.jsx(ie,{children:"Select Check-out Date Range"})}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"from-date",children:"From"}),e.jsx(A,{id:"from-date",type:"date",value:Y,onChange:N=>he(N.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"to-date",children:"To"}),e.jsx(A,{id:"to-date",type:"date",value:ee,onChange:N=>te(N.target.value)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(v,{variant:"outline",onClick:C,children:"Clear"}),e.jsx(v,{onClick:we,children:"Apply"})]})]})]})]}),e.jsxs(v,{variant:"outline",onClick:B,className:"flex items-center gap-2",children:[e.jsx(Dt,{className:"h-4 w-4"})," Clear"]})]})]})};function Ut(t,r){return c.useReducer((s,l)=>r[s][l]??s,t)}var Ie="ScrollArea",[Ge]=Ot(Ie),[Vt,E]=Ge(Ie),Je=c.forwardRef((t,r)=>{const{__scopeScrollArea:s,type:l="hover",dir:a,scrollHideDelay:n=600,...o}=t,[d,i]=c.useState(null),[u,h]=c.useState(null),[m,x]=c.useState(null),[p,j]=c.useState(null),[b,B]=c.useState(null),[k,W]=c.useState(0),[O,M]=c.useState(0),[R,I]=c.useState(!1),[P,z]=c.useState(!1),g=re(r,L=>i(L)),S=Tt(a);return e.jsx(Vt,{scope:s,type:l,dir:S,scrollHideDelay:n,scrollArea:d,viewport:u,onViewportChange:h,content:m,onContentChange:x,scrollbarX:p,onScrollbarXChange:j,scrollbarXEnabled:R,onScrollbarXEnabledChange:I,scrollbarY:b,onScrollbarYChange:B,scrollbarYEnabled:P,onScrollbarYEnabledChange:z,onCornerWidthChange:W,onCornerHeightChange:M,children:e.jsx(de.div,{dir:S,...o,ref:g,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":O+"px",...t.style}})})});Je.displayName=Ie;var Ke="ScrollAreaViewport",Qe=c.forwardRef((t,r)=>{const{__scopeScrollArea:s,children:l,nonce:a,...n}=t,o=E(Ke,s),d=c.useRef(null),i=re(r,d,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(de.div,{"data-radix-scroll-area-viewport":"",...n,ref:i,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});Qe.displayName=Ke;var H="ScrollAreaScrollbar",Ze=c.forwardRef((t,r)=>{const{forceMount:s,...l}=t,a=E(H,t.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:o}=a,d=t.orientation==="horizontal";return c.useEffect(()=>(d?n(!0):o(!0),()=>{d?n(!1):o(!1)}),[d,n,o]),a.type==="hover"?e.jsx(Xt,{...l,ref:r,forceMount:s}):a.type==="scroll"?e.jsx(Yt,{...l,ref:r,forceMount:s}):a.type==="auto"?e.jsx(et,{...l,ref:r,forceMount:s}):a.type==="always"?e.jsx(ze,{...l,ref:r}):null});Ze.displayName=H;var Xt=c.forwardRef((t,r)=>{const{forceMount:s,...l}=t,a=E(H,t.__scopeScrollArea),[n,o]=c.useState(!1);return c.useEffect(()=>{const d=a.scrollArea;let i=0;if(d){const u=()=>{window.clearTimeout(i),o(!0)},h=()=>{i=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return d.addEventListener("pointerenter",u),d.addEventListener("pointerleave",h),()=>{window.clearTimeout(i),d.removeEventListener("pointerenter",u),d.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(be,{present:s||n,children:e.jsx(et,{"data-state":n?"visible":"hidden",...l,ref:r})})}),Yt=c.forwardRef((t,r)=>{const{forceMount:s,...l}=t,a=E(H,t.__scopeScrollArea),n=t.orientation==="horizontal",o=_e(()=>i("SCROLL_END"),100),[d,i]=Ut("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(d==="idle"){const u=window.setTimeout(()=>i("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[d,a.scrollHideDelay,i]),c.useEffect(()=>{const u=a.viewport,h=n?"scrollLeft":"scrollTop";if(u){let m=u[h];const x=()=>{const p=u[h];m!==p&&(i("SCROLL"),o()),m=p};return u.addEventListener("scroll",x),()=>u.removeEventListener("scroll",x)}},[a.viewport,n,i,o]),e.jsx(be,{present:s||d!=="hidden",children:e.jsx(ze,{"data-state":d==="hidden"?"hidden":"visible",...l,ref:r,onPointerEnter:Z(t.onPointerEnter,()=>i("POINTER_ENTER")),onPointerLeave:Z(t.onPointerLeave,()=>i("POINTER_LEAVE"))})})}),et=c.forwardRef((t,r)=>{const s=E(H,t.__scopeScrollArea),{forceMount:l,...a}=t,[n,o]=c.useState(!1),d=t.orientation==="horizontal",i=_e(()=>{if(s.viewport){const u=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;o(d?u:h)}},10);return se(s.viewport,i),se(s.content,i),e.jsx(be,{present:l||n,children:e.jsx(ze,{"data-state":n?"visible":"hidden",...a,ref:r})})}),ze=c.forwardRef((t,r)=>{const{orientation:s="vertical",...l}=t,a=E(H,t.__scopeScrollArea),n=c.useRef(null),o=c.useRef(0),[d,i]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=nt(d.viewport,d.content),h={...l,sizes:d,onSizesChange:i,hasThumb:u>0&&u<1,onThumbChange:x=>n.current=x,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:x=>o.current=x};function m(x,p){return Qt(x,o.current,d,p)}return s==="horizontal"?e.jsx($t,{...h,ref:r,onThumbPositionChange:()=>{if(a.viewport&&n.current){const x=a.viewport.scrollLeft,p=$e(x,d,a.dir);n.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollLeft=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollLeft=m(x,a.dir))}}):s==="vertical"?e.jsx(qt,{...h,ref:r,onThumbPositionChange:()=>{if(a.viewport&&n.current){const x=a.viewport.scrollTop,p=$e(x,d);n.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollTop=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollTop=m(x))}}):null}),$t=c.forwardRef((t,r)=>{const{sizes:s,onSizesChange:l,...a}=t,n=E(H,t.__scopeScrollArea),[o,d]=c.useState(),i=c.useRef(null),u=re(r,i,n.onScrollbarXChange);return c.useEffect(()=>{i.current&&d(getComputedStyle(i.current))},[i]),e.jsx(st,{"data-orientation":"horizontal",...a,ref:u,sizes:s,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Se(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(n.viewport){const x=n.viewport.scrollLeft+h.deltaX;t.onWheelScroll(x),lt(x,m)&&h.preventDefault()}},onResize:()=>{i.current&&n.viewport&&o&&l({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:i.current.clientWidth,paddingStart:ve(o.paddingLeft),paddingEnd:ve(o.paddingRight)}})}})}),qt=c.forwardRef((t,r)=>{const{sizes:s,onSizesChange:l,...a}=t,n=E(H,t.__scopeScrollArea),[o,d]=c.useState(),i=c.useRef(null),u=re(r,i,n.onScrollbarYChange);return c.useEffect(()=>{i.current&&d(getComputedStyle(i.current))},[i]),e.jsx(st,{"data-orientation":"vertical",...a,ref:u,sizes:s,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Se(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(n.viewport){const x=n.viewport.scrollTop+h.deltaY;t.onWheelScroll(x),lt(x,m)&&h.preventDefault()}},onResize:()=>{i.current&&n.viewport&&o&&l({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:i.current.clientHeight,paddingStart:ve(o.paddingTop),paddingEnd:ve(o.paddingBottom)}})}})}),[Gt,tt]=Ge(H),st=c.forwardRef((t,r)=>{const{__scopeScrollArea:s,sizes:l,hasThumb:a,onThumbChange:n,onThumbPointerUp:o,onThumbPointerDown:d,onThumbPositionChange:i,onDragScroll:u,onWheelScroll:h,onResize:m,...x}=t,p=E(H,s),[j,b]=c.useState(null),B=re(r,g=>b(g)),k=c.useRef(null),W=c.useRef(""),O=p.viewport,M=l.content-l.viewport,R=q(h),I=q(i),P=_e(m,10);function z(g){if(k.current){const S=g.clientX-k.current.left,L=g.clientY-k.current.top;u({x:S,y:L})}}return c.useEffect(()=>{const g=S=>{const L=S.target;j?.contains(L)&&R(S,M)};return document.addEventListener("wheel",g,{passive:!1}),()=>document.removeEventListener("wheel",g,{passive:!1})},[O,j,M,R]),c.useEffect(I,[l,I]),se(j,P),se(p.content,P),e.jsx(Gt,{scope:s,scrollbar:j,hasThumb:a,onThumbChange:q(n),onThumbPointerUp:q(o),onThumbPositionChange:I,onThumbPointerDown:q(d),children:e.jsx(de.div,{...x,ref:B,style:{position:"absolute",...x.style},onPointerDown:Z(t.onPointerDown,g=>{g.button===0&&(g.target.setPointerCapture(g.pointerId),k.current=j.getBoundingClientRect(),W.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),z(g))}),onPointerMove:Z(t.onPointerMove,z),onPointerUp:Z(t.onPointerUp,g=>{const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=W.current,p.viewport&&(p.viewport.style.scrollBehavior=""),k.current=null})})})}),ge="ScrollAreaThumb",rt=c.forwardRef((t,r)=>{const{forceMount:s,...l}=t,a=tt(ge,t.__scopeScrollArea);return e.jsx(be,{present:s||a.hasThumb,children:e.jsx(Jt,{ref:r,...l})})}),Jt=c.forwardRef((t,r)=>{const{__scopeScrollArea:s,style:l,...a}=t,n=E(ge,s),o=tt(ge,s),{onThumbPositionChange:d}=o,i=re(r,m=>o.onThumbChange(m)),u=c.useRef(void 0),h=_e(()=>{u.current&&(u.current(),u.current=void 0)},100);return c.useEffect(()=>{const m=n.viewport;if(m){const x=()=>{if(h(),!u.current){const p=Zt(m,d);u.current=p,d()}};return d(),m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[n.viewport,h,d]),e.jsx(de.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:i,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:Z(t.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),j=m.clientX-p.left,b=m.clientY-p.top;o.onThumbPointerDown({x:j,y:b})}),onPointerUp:Z(t.onPointerUp,o.onThumbPointerUp)})});rt.displayName=ge;var He="ScrollAreaCorner",ot=c.forwardRef((t,r)=>{const s=E(He,t.__scopeScrollArea),l=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&l?e.jsx(Kt,{...t,ref:r}):null});ot.displayName=He;var Kt=c.forwardRef((t,r)=>{const{__scopeScrollArea:s,...l}=t,a=E(He,s),[n,o]=c.useState(0),[d,i]=c.useState(0),u=!!(n&&d);return se(a.scrollbarX,()=>{const h=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(h),i(h)}),se(a.scrollbarY,()=>{const h=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(h),o(h)}),u?e.jsx(de.div,{...l,ref:r,style:{width:n,height:d,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ve(t){return t?parseInt(t,10):0}function nt(t,r){const s=t/r;return isNaN(s)?0:s}function Se(t){const r=nt(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=(t.scrollbar.size-s)*r;return Math.max(l,18)}function Qt(t,r,s,l="ltr"){const a=Se(s),n=a/2,o=r||n,d=a-o,i=s.scrollbar.paddingStart+o,u=s.scrollbar.size-s.scrollbar.paddingEnd-d,h=s.content-s.viewport,m=l==="ltr"?[0,h]:[h*-1,0];return at([i,u],m)(t)}function $e(t,r,s="ltr"){const l=Se(r),a=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=r.scrollbar.size-a,o=r.content-r.viewport,d=n-l,i=s==="ltr"?[0,o]:[o*-1,0],u=Lt(t,i);return at([0,o],[0,d])(u)}function at(t,r){return s=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const l=(r[1]-r[0])/(t[1]-t[0]);return r[0]+l*(s-t[0])}}function lt(t,r){return t>0&&t<r}var Zt=(t,r=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},l=0;return(function a(){const n={left:t.scrollLeft,top:t.scrollTop},o=s.left!==n.left,d=s.top!==n.top;(o||d)&&r(),s=n,l=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(l)};function _e(t,r){const s=q(t),l=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(l.current),[]),c.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(s,r)},[s,r])}function se(t,r){const s=q(r);It(()=>{let l=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(l),l=window.requestAnimationFrame(s)});return a.observe(t),()=>{window.cancelAnimationFrame(l),a.unobserve(t)}}},[t,s])}var es=Je,ts=Qe,ss=ot;function rs({className:t,children:r,...s}){return e.jsxs(es,{"data-slot":"scroll-area",className:Ee("relative",t),...s,children:[e.jsx(ts,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),e.jsx(os,{}),e.jsx(ss,{})]})}function os({className:t,orientation:r="vertical",...s}){return e.jsx(Ze,{"data-slot":"scroll-area-scrollbar",orientation:r,className:Ee("flex touch-none p-px transition-colors select-none",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...s,children:e.jsx(rt,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const ns=({booking:t,isExpanded:r,onToggle:s,onEdit:l,onDelete:a,formatDate:n,formatDateTime:o})=>{const d=m=>{switch(m){case"checked_in":return"default";case"reserved":return"secondary";case"checked_out":return"outline";case"cancelled":return"destructive";default:return"outline"}},i=m=>m.split(" ").map(x=>x.charAt(0).toUpperCase()+x.slice(1).toLowerCase()).join(" "),u=m=>i(m.replace("_"," ")),h=[{id:1,interaction_type:"promo_opened",details:"Summer Spa Package Promotion",created_at:"2023-06-15 10:30:00"},{id:2,interaction_type:"service_viewed",details:"Premium Room Upgrade",created_at:"2023-06-16 14:22:00"},{id:3,interaction_type:"service_ordered",details:"Airport Transfer Service",created_at:"2023-06-17 09:15:00"},{id:4,interaction_type:"upgrade_requested",details:"Ocean View Room Upgrade",created_at:"2023-06-18 16:45:00"},{id:5,interaction_type:"addon_purchased",details:"Romantic Dinner Package",created_at:"2023-06-19 11:20:00"},{id:6,interaction_type:"service_viewed",details:"Laundry Express Service",created_at:"2023-06-19 15:30:00"},{id:7,interaction_type:"promo_opened",details:"Weekend Getaway Discount",created_at:"2023-06-20 09:45:00"},{id:8,interaction_type:"service_ordered",details:"Late Check-out",created_at:"2023-06-20 14:15:00"},{id:9,interaction_type:"addon_purchased",details:"Breakfast in Bed",created_at:"2023-06-21 08:30:00"}];return e.jsxs(e.Fragment,{children:[e.jsxs(X,{className:"cursor-pointer hover:bg-muted/50",onClick:s,children:[e.jsx(_,{children:e.jsx(v,{variant:"ghost",size:"sm",children:r?e.jsx(Ft,{className:"h-4 w-4"}):e.jsx(kt,{className:"h-4 w-4"})})}),e.jsx(_,{className:"font-medium",children:t.customer.name}),e.jsx(_,{children:t.room.room_number?e.jsxs(Ae,{variant:"outline",children:[t.room.room_number," -"," ",t.room.room_type]}):e.jsx("span",{className:"text-muted-foreground",children:"No room"})}),e.jsx(_,{children:o(t.checkin_at)}),e.jsx(_,{children:o(t.checkout_at)}),e.jsx(_,{children:e.jsx(Ae,{variant:d(t.status),children:u(t.status)})}),e.jsx(_,{onClick:m=>m.stopPropagation(),children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v,{variant:"ghost",size:"sm",onClick:l,className:"bg-secondary text-secondary-foreground",children:e.jsx(Rt,{className:"h-4 w-4"})}),e.jsx(v,{variant:"ghost",size:"sm",onClick:a,className:"bg-destructive text-destructive-foreground",children:e.jsx(Pt,{className:"h-4 w-4"})})]})})]}),r&&e.jsx(X,{children:e.jsx(_,{colSpan:7,className:"p-4 bg-muted/20",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Booking Details"}),e.jsx("div",{className:"text-sm text-muted-foreground space-y-1",children:e.jsxs("p",{children:["Created:"," ",o(t.created_at)]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.notes||"No notes for this booking."})]})]}),e.jsxs("div",{className:"lg:col-span-5",children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Customer Interactions"}),e.jsx("div",{className:"border rounded-md",children:e.jsx(rs,{className:"h-64",children:e.jsxs(Fe,{className:"bg-white",children:[e.jsx(Be,{children:e.jsxs(X,{children:[e.jsx(T,{className:"w-[150px]",children:"Interaction"}),e.jsx(T,{children:"Details"}),e.jsx(T,{className:"w-[150px]",children:"Date"})]})}),e.jsx(Oe,{children:h.map(m=>e.jsxs(X,{children:[e.jsx(_,{children:i(m.interaction_type.replace("_"," "))}),e.jsx(_,{children:m.details}),e.jsx(_,{children:o(m.created_at)})]},m.id))})]})})})]})]})})},`${t.id}-details`)]})},as=({bookings:t,expandedRows:r,toggleRow:s,openEditModal:l,openDeleteModal:a,formatDate:n,formatDateTime:o,sortBy:d,sortDirection:i,handleSort:u})=>{const h=({field:m,children:x})=>e.jsx(T,{className:"cursor-pointer",onClick:()=>u(m),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:x}),d===m&&e.jsx(Bt,{className:`h-3 w-3 ${i==="asc"?"rotate-180":""}`})]})});return e.jsx("div",{className:"rounded-md border",children:e.jsxs(Fe,{children:[e.jsx(Be,{children:e.jsxs(X,{children:[e.jsx(T,{className:"w-8"}),e.jsx(h,{field:"customer_name",children:"Customer"}),e.jsx(h,{field:"room_number",children:"Room"}),e.jsx(h,{field:"checkin_at",children:"Check-in"}),e.jsx(h,{field:"checkout_at",children:"Check-out"}),e.jsx(h,{field:"status",children:"Status"}),e.jsx(T,{children:"Actions"})]})}),e.jsx(Oe,{children:t.length>0?t.map(m=>e.jsx(ns,{booking:m,isExpanded:r.includes(m.id),onToggle:()=>s(m.id),onEdit:()=>l(m),onDelete:()=>a(m),formatDate:n,formatDateTime:o},m.id)):e.jsx(X,{children:e.jsx(_,{colSpan:7,className:"text-center py-8",children:"No bookings found"})})})]})})},ls=({data:t,setData:r,errors:s,customers:l,rooms:a})=>{const n=[{value:"reserved",label:"Reserved"},{value:"checked_in",label:"Checked In"},{value:"checked_out",label:"Checked Out"},{value:"cancelled",label:"Cancelled"}];return e.jsxs("div",{className:"grid gap-4 py-4",children:[console.log("ini booking form",t),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(w,{htmlFor:"customer_id",className:"text-right",children:"Customer *"}),e.jsxs(G,{id:"customer_id",value:t.customer_id||"",onValueChange:o=>r("customer_id",o),className:"col-span-3",children:[e.jsx(J,{children:e.jsx(K,{placeholder:"Select a customer"})}),e.jsx(Q,{children:l.map(o=>e.jsx(D,{value:o.id?o.id.toString():"",children:o.name},o.id))})]}),s.customer_id&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:s.customer_id})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(w,{htmlFor:"room_id",className:"text-right",children:"Room *"}),e.jsxs(G,{id:"room_id",value:t.room_id||"",onValueChange:o=>r("room_id",o),className:"col-span-3",children:[e.jsx(J,{children:e.jsx(K,{placeholder:"Select a room"})}),e.jsx(Q,{children:a.map(o=>e.jsxs(D,{value:o.id?o.id.toString():"",children:[o.room_number," - ",o.room_type]},o.id))})]}),s.room_id&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:s.room_id})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(w,{htmlFor:"checkin_at",className:"text-right",children:"Check-in *"}),e.jsx(A,{id:"checkin_at",type:"datetime-local",value:t.checkin_at||"",onChange:o=>r("checkin_at",o.target.value),className:"col-span-3"}),s.checkin_at&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:s.checkin_at})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(w,{htmlFor:"checkout_at",className:"text-right",children:"Check-out *"}),e.jsx(A,{id:"checkout_at",type:"datetime-local",value:t.checkout_at||"",onChange:o=>r("checkout_at",o.target.value),className:"col-span-3"}),s.checkout_at&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:s.checkout_at})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(w,{htmlFor:"status",className:"text-right",children:"Status *"}),e.jsxs(G,{id:"status",value:t.status||"",onValueChange:o=>r("status",o),className:"col-span-3",children:[e.jsx(J,{children:e.jsx(K,{placeholder:"Select status"})}),e.jsx(Q,{children:n.map(o=>e.jsx(D,{value:o.value||"",children:o.label},o.value))})]}),s.status&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(w,{htmlFor:"notes",className:"text-right",children:"Notes"}),e.jsx(A,{id:"notes",type:"text",value:t.notes||"",onChange:o=>r("notes",o.target.value),className:"col-span-3"}),s.notes&&e.jsx("p",{className:"text-red-500 text-sm col-span-4 text-right",children:s.notes})]})]})},cs=({isOpen:t,onOpenChange:r,onConfirm:s,booking:l})=>l?e.jsx(ae,{open:t,onOpenChange:r,children:e.jsxs(le,{children:[e.jsxs(ce,{children:[e.jsx(ie,{children:"Confirm Deletion"}),e.jsxs(De,{children:["Are you sure you want to delete the booking for ",e.jsx("strong",{children:l.customer_name})," in room ",e.jsx("strong",{children:l.room_number}),"? This action cannot be undone."]})]}),e.jsxs(Te,{children:[e.jsx(v,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(v,{variant:"destructive",onClick:s,children:"Delete"})]})]})}):null,is=({paginationData:t,buildPaginationUrl:r})=>{const{from:s,to:l,total:a,prev_page_url:n,next_page_url:o,current_page:d}=t,i=u=>{u&&xe.get(r(u),{},{preserveState:!0,replace:!0})};return e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s," to ",l," of ",a," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>i(n),disabled:!n,children:"Previous"}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>i(o),disabled:!o,children:"Next"})]})]})},ds=({onRoomsFound:t,onDateSelected:r,onNextStep:s})=>{const[l,a]=c.useState({checkin_date:"",checkout_date:""}),[n,o]=c.useState({room_type:"",capacity:"",min_price:"",max_price:""}),[d,i]=c.useState(!1),[u,h]=c.useState(null),m=async()=>{if(!l.checkin_date||!l.checkout_date){V.error("Please select both check-in and check-out dates.");return}i(!0),h(null);try{const p={...l,...n};Object.keys(p).forEach(b=>(p[b]===""||p[b]===null)&&delete p[b]);const j=await wt.get("/api/bookings/check-availability",{params:p});h(j.data),t(j.data.rooms),r(l),j.data.rooms.length>0?(V.success(`Found ${j.data.rooms.length} available rooms.`),s()):V.info("No rooms match your criteria for the selected dates.")}catch(p){const j=p.response?.data?.message||"Failed to check availability.";V.error(j),console.error("Availability check error:",p)}finally{i(!1)}},x=(p,j)=>{const b=j==="all"?"":j;o(B=>({...B,[p]:b}))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(oe,{children:[e.jsx(pe,{children:e.jsxs(fe,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-5 w-5"}),"Select Dates & Preferences"]})}),e.jsxs(ne,{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Stay Dates"})]}),e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(w,{htmlFor:"checkin_date",children:"Check-in *"}),e.jsx(A,{id:"checkin_date",type:"date",value:l.checkin_date,onChange:p=>a({...l,checkin_date:p.target.value}),min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(w,{htmlFor:"checkout_date",children:"Check-out *"}),e.jsx(A,{id:"checkout_date",type:"date",value:l.checkout_date,onChange:p=>a({...l,checkout_date:p.target.value}),min:l.checkin_date||new Date().toISOString().split("T")[0]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Room Preferences"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(w,{htmlFor:"room_type",children:"Room Type"}),e.jsxs(G,{value:n.room_type||"all",onValueChange:p=>x("room_type",p),children:[e.jsx(J,{children:e.jsx(K,{placeholder:"All types"})}),e.jsxs(Q,{children:[e.jsx(D,{value:"all",children:"All types"}),e.jsx(D,{value:"Standard",children:"Standard"}),e.jsx(D,{value:"Deluxe",children:"Deluxe"}),e.jsx(D,{value:"Suite",children:"Suite"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(w,{htmlFor:"capacity",children:"Capacity"}),e.jsxs(G,{value:n.capacity||"all",onValueChange:p=>x("capacity",p),children:[e.jsx(J,{children:e.jsx(K,{placeholder:"Any"})}),e.jsxs(Q,{children:[e.jsx(D,{value:"all",children:"Any capacity"}),e.jsx(D,{value:"1",children:"1 Guest"}),e.jsx(D,{value:"2",children:"2 Guests"}),e.jsx(D,{value:"4",children:"4+ Guests"})]})]})]})]}),e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx(w,{htmlFor:"min_price",children:"Min Price"}),e.jsx(A,{id:"min_price",type:"number",placeholder:"0",value:n.min_price,onChange:p=>o({...n,min_price:p.target.value})})]}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx(w,{htmlFor:"max_price",children:"Max Price"}),e.jsx(A,{id:"max_price",type:"number",placeholder:"No limit",value:n.max_price,onChange:p=>o({...n,max_price:p.target.value})})]})]})]})]})]})]}),e.jsx(v,{onClick:m,disabled:d,className:"w-full",children:d?"Checking...":"Check Availability"})]})},hs=({rooms:t,onRoomSelected:r,onNextStep:s})=>{const l=n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),a=n=>{r(n),s()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Le,{className:"text-base",children:[t.length," rooms available. Select one to continue."]}),e.jsx(oe,{children:e.jsx(ne,{className:"p-0",children:e.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:e.jsxs(Fe,{children:[e.jsx(Be,{children:e.jsxs(X,{children:[e.jsx(T,{children:"Room"}),e.jsx(T,{children:"Type"}),e.jsx(T,{children:"Capacity"}),e.jsx(T,{children:"Price per Night"}),e.jsx(T,{children:"Total Price"}),e.jsx(T,{className:"w-[120px]",children:"Action"})]})}),e.jsx(Oe,{children:t.map(n=>e.jsxs(X,{children:[e.jsxs(_,{className:"font-medium",children:["Room ",n.room_number]}),e.jsx(_,{children:e.jsx(Ae,{variant:"outline",children:n.room_type})}),e.jsx(_,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["Up to ",n.capacity," guest(s)"]})]})}),e.jsx(_,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:l(n.price_per_night)})]})}),e.jsxs(_,{className:"font-medium",children:[l(n.total_price),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["for ",n.nights," night(s)"]})]}),e.jsx(_,{children:e.jsx(v,{size:"sm",onClick:()=>a(n),className:"w-full",children:"Select"})})]},n.id))})]})})})})]})};function us({className:t,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:Ee("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}const ms=({selectedRoom:t,selectedDates:r,customers:s,formData:l,setData:a,errors:n})=>{const o=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(u),d=u=>{a(h=>({...h,customer_id:u}))},i=u=>{const{value:h}=u.target;a(m=>({...m,notes:h}))};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs(oe,{children:[e.jsx(pe,{children:e.jsx(fe,{children:"Booking Summary"})}),e.jsxs(ne,{className:"space-y-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Room"}),e.jsxs("span",{className:"font-medium",children:[t.room_number," (",t.room_type,")"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Check-in"}),e.jsx("span",{className:"font-medium",children:r.checkin_date})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Check-out"}),e.jsx("span",{className:"font-medium",children:r.checkout_date})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Nights"}),e.jsx("span",{className:"font-medium",children:t.nights})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{className:"text-primary",children:"Total Price"}),e.jsx("span",{className:"text-primary",children:o(t.total_price)})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs(oe,{children:[e.jsxs(pe,{children:[e.jsx(fe,{children:"Customer Details"}),e.jsx(Le,{children:"Select an existing customer for this booking."})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(w,{htmlFor:"customer_id",children:"Customer *"}),e.jsxs(G,{value:l.customer_id||"",onValueChange:d,children:[e.jsx(J,{children:e.jsx(K,{placeholder:"Select a customer"})}),e.jsx(Q,{children:s.map(u=>e.jsxs(D,{value:u.id.toString(),children:[u.name," - ",u.passport_country]},u.id))})]}),n.customer_id&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.customer_id})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(us,{id:"notes",value:l.notes||"",onChange:i,placeholder:"Any special requests?",rows:3})]})]})]})})]})};function xs(){const{bookings:t,filters:r,flash:s,customers:l,rooms:a}=Ct().props,[n,o]=c.useState(r.search||""),[d,i]=c.useState(r.customer_id||"all"),[u,h]=c.useState(r.room_id||"all"),[m,x]=c.useState(r.status||"all"),[p,j]=c.useState(r.checkin_date_from||""),[b,B]=c.useState(r.checkin_date_to||""),[k,W]=c.useState(r.checkout_date_from||""),[O,M]=c.useState(r.checkout_date_to||""),[R,I]=c.useState(r.sort_by||"created_at"),[P,z]=c.useState(r.sort_direction||"desc"),[g,S]=c.useState(!1),[L,Y]=c.useState(!1),[he,ee]=c.useState(!1),[te,ue]=c.useState(null),[we,Ce]=c.useState([]),[C,$]=c.useState(1),[U,N]=c.useState(null),[Ne,Me]=c.useState([]),[ye,We]=c.useState(null),{data:me,setData:ke,post:ps,put:ct,processing:Re,errors:Ue,reset:it,clearErrors:Ve}=Nt({customer_id:"",room_id:"",checkin_at:"",checkout_at:"",status:"reserved",notes:""});c.useEffect(()=>{s?.success&&V.success(s.success),s?.error&&V.error(s.error)},[s]),c.useEffect(()=>{const f=setTimeout(()=>dt(1),500);return()=>clearTimeout(f)},[n,d,u,m,p,b,k,O,R,P]);const dt=(f=r.page||1)=>{xe.get(route("bookings.index"),{search:n,customer_id:d==="all"?"":d,room_id:u==="all"?"":u,status:m==="all"?"":m,checkin_date_from:p,checkin_date_to:b,checkout_date_from:k,checkout_date_to:O,sort_by:R,sort_direction:P,page:f},{preserveState:!0,replace:!0})},Xe=()=>{$(f=>f+1)},ht=f=>{I(f),z(F=>F==="asc"?"desc":"asc")},Pe=()=>{$(1),N(null),Me([]),We(null),it(),Ve()},ut=()=>{Pe(),S(!0)},mt=f=>{ke({customer_id:f.customer_id.toString(),room_id:f.room_id.toString(),checkin_at:f.checkin_at,checkout_at:f.checkout_at,status:f.status,notes:f.notes||""}),Ve(),ue(f),Y(!0)},xt=f=>{ue(f),ee(!0)},pt=()=>{const f={...me,room_id:ye.id,checkin_at:U.checkin_date,checkout_at:U.checkout_date,status:"reserved"};console.log("Submitting with router.post:",f),xe.post(route("bookings.store"),f,{onSuccess:()=>{S(!1),Pe(),V.success("Booking created successfully!")},onError:F=>{console.error("Validation errors:",F);const y=Object.values(F)[0];V.error(y||"Failed to create booking.")}})},ft=f=>{f.preventDefault(),ct(route("bookings.update",te.id),{onSuccess:()=>Y(!1)})},jt=()=>{xe.delete(route("bookings.destroy",te.id),{onSuccess:()=>ee(!1)})},gt=()=>{o(""),i("all"),h("all"),x("all"),j(""),B(""),W(""),M(""),I("created_at"),z("desc")},vt=f=>f?new Date(f).toLocaleDateString():"N/A",bt=f=>f?new Date(f).toLocaleString():"N/A",St=f=>Ce(F=>F.includes(f)?F.filter(y=>y!==f):[...F,f]),_t=f=>{if(!f)return null;const F=new URL(f),y=new URLSearchParams(F.search);return y.set("search",n),y.set("customer_id",d==="all"?"":d),y.set("room_id",u==="all"?"":u),y.set("status",m==="all"?"":m),y.set("checkin_date_from",p),y.set("checkin_date_to",b),y.set("checkout_date_from",k),y.set("checkout_date_to",O),y.set("sort_by",R),y.set("sort_direction",P),`${F.pathname}?${y.toString()}`};return e.jsxs("div",{className:"container mx-auto py-2 px-4",children:[e.jsxs(oe,{className:"mb-8",children:[e.jsx(Mt,{onAddBooking:ut}),e.jsxs(ne,{children:[e.jsx(Wt,{searchTerm:n,setSearchTerm:o,selectedCustomer:d,setSelectedCustomer:i,selectedRoom:u,setSelectedRoom:h,selectedStatus:m,setSelectedStatus:x,checkinDateFrom:p,setCheckinDateFrom:j,checkinDateTo:b,setCheckinDateTo:B,checkoutDateFrom:k,setCheckoutDateFrom:W,checkoutDateTo:O,setCheckoutDateTo:M,clearFilters:gt,customers:l,rooms:a}),e.jsx(as,{bookings:t.data,expandedRows:we,toggleRow:St,openEditModal:mt,openDeleteModal:xt,formatDate:vt,formatDateTime:bt,sortBy:R,sortDirection:P,handleSort:ht}),e.jsx(is,{paginationData:t,buildPaginationUrl:_t})]})]}),e.jsx(ae,{open:g,onOpenChange:f=>{S(f),f||Pe()},children:e.jsxs(le,{className:`${C===2?"sm:max-w-[1200px]":""} max-h-[90vh] overflow-y-auto`,children:[e.jsxs(ce,{children:[e.jsxs(ie,{children:[C===1&&"Select Dates & Preferences",C===2&&"Select Room",C===3&&"Confirm Booking"]}),e.jsxs(De,{children:[C===1&&"Choose your check-in and check-out dates",C===2&&`Available rooms for ${U?.checkin_date} to ${U?.checkout_date}`,C===3&&"Review your booking details"]})]}),e.jsxs("div",{className:"py-4",children:[C===1&&e.jsx(ds,{onDateSelected:f=>N(f),onRoomsFound:f=>Me(f),onNextStep:Xe}),C===2&&e.jsx(hs,{rooms:Ne,selectedDates:U,onRoomSelected:f=>We(f),onNextStep:Xe}),C===3&&e.jsx(ms,{selectedRoom:ye,selectedDates:U,customers:l,formData:me,setData:ke,errors:Ue})]}),e.jsxs(Te,{className:"flex justify-between",children:[e.jsx("div",{children:C>1&&e.jsx(v,{variant:"outline",onClick:()=>$(C-1),children:"Back"})}),e.jsxs("div",{children:[C===1&&Ne.length>0&&e.jsxs(v,{onClick:()=>$(2),children:["View Available Rooms (",Ne.length,")"]}),C===2&&ye&&e.jsx(v,{onClick:()=>$(3),children:"Continue to Confirmation"}),C===3&&e.jsx(v,{onClick:pt,disabled:!me.customer_id||Re,children:Re?"Submitting...":"Confirm Booking"})]})]})]})}),e.jsx(ae,{open:L,onOpenChange:Y,children:e.jsxs(le,{className:"sm:max-w-[425px]",children:[e.jsxs(ce,{children:[e.jsx(ie,{children:"Edit Booking"}),e.jsx(De,{children:"Update booking information"})]}),e.jsxs("form",{onSubmit:ft,children:[e.jsx(ls,{data:me,setData:ke,errors:Ue,customers:l,rooms:a}),e.jsx(Te,{children:e.jsx(v,{type:"submit",disabled:Re,children:"Update Booking"})})]})]})}),e.jsx(cs,{isOpen:he,onOpenChange:ee,onConfirm:jt,booking:te})]})}xs.layout=t=>e.jsx(At,{children:t});export{xs as default};
